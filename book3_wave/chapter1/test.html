<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>é¡Œåº«é‚è¼¯è‡ªå‹•æª¢æ¸¬å™¨</title>
    <style>
        body { font-family: monospace; padding: 20px; background: #222; color: #ddd; }
        table { border-collapse: collapse; width: 100%; background: #333; }
        th, td { border: 1px solid #555; padding: 8px; text-align: left; }
        th { background: #444; }
        .pass { color: #2ecc71; font-weight: bold; }
        .fail { color: #e74c3c; font-weight: bold; background: #500; }
        h1 { color: #fff; }
    </style>
</head>
<body>

<h1>ğŸš€ é¡Œåº«é‚è¼¯è‡ªå‹•æª¢æ¸¬ (æ¨¡æ“¬ 50 é¡Œ)</h1>
<div id="result-area">æ­£åœ¨æ¸¬è©¦...</div>

<script>
    // --- 1. é€™æ˜¯å‰›æ‰ä¿®æ­£å¾Œçš„è³‡æ–™ ---
    const AnswerBank = {
        "O_0": { content: "åŸºéŸ³", category: "O" },
        "O_1": { content: "ç¬¬ä¸€æ³›éŸ³", category: "O" },
        "O_2": { content: "ç¬¬äºŒæ³›éŸ³", category: "O" },
        "O_3": { content: "ç¬¬ä¸‰æ³›éŸ³", category: "O" },
        "O_4": { content: "ç¬¬å››æ³›éŸ³", category: "O" },
        "H_1": { content: "ç¬¬ä¸€è«§éŸ³", category: "H" },
        "H_2": { content: "ç¬¬äºŒè«§éŸ³", category: "H" },
        "H_3": { content: "ç¬¬ä¸‰è«§éŸ³", category: "H" },
        "H_4": { content: "ç¬¬å››è«§éŸ³", category: "H" },
        "H_5": { content: "ç¬¬äº”è«§éŸ³", category: "H" },
        "H_6": { content: "ç¬¬å…­è«§éŸ³", category: "H" },
        "H_7": { content: "ç¬¬ä¸ƒè«§éŸ³", category: "H" }
    };

    const QuestionList = [
        { qContent: "ff_1.png", aKey: "O_0" }, { qContent: "ff_1.png", aKey: "H_1" },
        { qContent: "fo_2.png", aKey: "O_1" }, { qContent: "fo_2.png", aKey: "H_3" }
    ];

    // --- 2. é€™æ˜¯å‰›æ‰ä¿®æ­£å¾Œçš„é‚è¼¯å‡½æ•¸ ---
    function getRandomQuestion() {
        const qData = QuestionList[Math.floor(Math.random() * QuestionList.length)];
        const correctAnsData = AnswerBank[qData.aKey];
        const targetCategory = correctAnsData.category;

        // é—œéµéæ¿¾é‚è¼¯
        const allKeys = Object.keys(AnswerBank);
        const validDistractors = allKeys.filter(key => {
            const item = AnswerBank[key];
            return (item.category === targetCategory) && (key !== qData.aKey);
        });

        // æ´—ç‰Œé¸ 3 å€‹
        for (let i = validDistractors.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [validDistractors[i], validDistractors[j]] = [validDistractors[j], validDistractors[i]];
        }
        const distractors = validDistractors.slice(0, 3);
        let options = [qData.aKey].concat(distractors);
        
        // æœ€çµ‚æ´—ç‰Œ
        for (let i = options.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [options[i], options[j]] = [options[j], options[i]];
        }

        return { ...qData, opts: options, category: targetCategory };
    }

    // --- 3. åŸ·è¡Œæ¸¬è©¦ ---
    let html = `<table><tr><th>é¡Œè™Ÿ</th><th>é¡Œç›®åœ–</th><th>æ­£ç¢ºç­”æ¡ˆ</th><th>ç”Ÿæˆé¸é …</th><th>æª¢æ¸¬çµæœ</th></tr>`;
    
    for(let i=1; i<=50; i++) {
        const result = getRandomQuestion();
        
        // æª¢æŸ¥å››å€‹é¸é …æ˜¯å¦éƒ½æ˜¯åŒä¸€é¡
        let isPure = true;
        let optionTexts = [];
        
        result.opts.forEach(optKey => {
            const item = AnswerBank[optKey];
            optionTexts.push(item.content);
            if (item.category !== result.category) {
                isPure = false; // ç™¼ç¾ç•°é¡ï¼
            }
        });

        const status = isPure ? "<span class='pass'>PASS (ç´”æ·¨)</span>" : "<span class='fail'>FAIL (æ··é›œ)</span>";
        
        html += `<tr>
            <td>${i}</td>
            <td>${result.qContent}</td>
            <td>${AnswerBank[result.aKey].content} (${result.category})</td>
            <td>${optionTexts.join(", ")}</td>
            <td>${status}</td>
        </tr>`;
    }
    html += "</table>";
    document.getElementById('result-area').innerHTML = html;

</script>
</body>
</html>